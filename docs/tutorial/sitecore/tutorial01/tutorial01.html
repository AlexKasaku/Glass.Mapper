---
layout: DocsLayout
title: Tutorial 1 - Background
---

{% include pageheader.html %}

<p>
    This series of tutorials will take you through the process of building a simple site using Glass.Mapper. When you have
    completed all the tutorials you will have a simple Sitecore site and covered the majority of the features in Glass.Mapper.
</p>
<p>
    For this tutorial we will be using many common open source projects to help us build the site, these are listed below:
</p>
<ul>
    <li><a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a></li>
    <li><a href="https://github.com/davidebbo/WebActivator">WebActivator</a></li>
    <li><a href="http://docs.castleproject.org/Windsor.MainPage.ashx">Castle Windsor</a></li>
</ul>

<p>
    Having knowledge of these projects is advantageous but not required to complete all the tutorials. 
</p>
<p>
    You can find the complete source for the site in the <a href="https://github.com/mikeedwards83/tree/develop/Sites/Sitecore">Github repo</a>:
</p>

<h2>Getting started</h2>
<p>c
    You first task will be to download Glass.Mapper.Sc from Nuget. If you open the Nuget package manager and search for Glass.Mapper.Sc you will see
    a large selection of different projects:
</p>
<img src="tutorial01.nugetsearch.png"/>
<p>
    The two we will focus on is Glass.Mapper.Sc and Glass.Mapper.Sc.CastleWindsor, the first project (Glass.Mapper.Sc) is the basic project
    that doesn't include any dependency injection framework, this allows you to use Glass.Mapper.Sc with other dependency injection frameworks, 
    if you want to use this project you will need to integrate your favourite dependency
    injection framework. For this demo we are going to use the Glass.Mapper.Sc.CastleWindsor project, this has the popular
    Castle Windsor dependency injection framework already configured and ready for you to go.
</p>
<p>
    Click the Install button for Glass.Mapper.Sc.CastleWindsor.
</p>
<p>
    When the solution installs several items are downloaded, most of these are dependencies but there are two additional items that are downloaded and 
    inserted in to the App_Start folder: 
</p>
<img src="tutorial01.appstart.PNG"/>
<p>
    This file is used by WebActivator to load Glass.Mapper.Sc when the application starts. I won't go into how WebActivator works but I will discuss how
    the code in the file works. If you open the GlassMapperSc file you should see code similar to that below but with your namespaces:
</p>
<pre class="github cs"  ref="gh-pages">
using System;
using Glass.Mapper.Sc.CastleWindsor;
using Glass.Mapper.Sc.Configuration.Attributes;

[assembly: WebActivatorEx.PostApplicationStartMethod(typeof(Glass.Mapper.Sites.Sc.App_Start.GlassMapperSc), "Start")]

namespace Glass.Mapper.Sites.Sc.App_Start
{
    public static class GlassMapperSc
    {
        public static void Start()
        {
            //create the resolver
            var resolver = DependencyResolver.CreateStandardResolver();

            //install the custom services
            GlassMapperScCustom.CastleConfig(resolver.Container);

            //create a context
            var context = Glass.Mapper.Context.Create(resolver);
            context.Load(
                GlassMapperScCustom.GlassLoaders()
                );

            GlassMapperScCustom.PostLoad();
        }
    }
}

</pre>
<p>
    This code sets up the dependency resolver we want to use, in this tutorial we are using Castle Windsor. We then create a Glass.Mapper Context, 
    the context stores all the configuration we need for Glass.Mapper to run. 
</p>
<p>
    The second file GlassMapperScCustom is where you can do most of your configuration, we can see that it configures the DI container in the CastleConfig
    method and tells Glass to use an attribute loader in the GlassLoaders method. The attribute loaded takes the name of the assembly to load classes from.
</p>
<pre class="github cs"  ref="gh-pages">
using System.Collections.Generic;
using Castle.Windsor;
using Glass.Mapper.Configuration;
using Glass.Mapper.Sc.CastleWindsor;
using Glass.Mapper.Sc.Configuration.Attributes;
using Sitecore.SecurityModel;

namespace Glass.Mapper.Sites.Sc.App_Start
{

    public static class GlassMapperScCustom
    {
        public static void CastleConfig(IWindsorContainer container)
        {
            var config = new Config();

            container.Install(new SitecoreInstaller(config));
        }

        public static IConfigurationLoader[] GlassLoaders()
        {
            var attributes = new SitecoreAttributeConfigurationLoader("Glass.Mapper.Sites.Sc");

            return new IConfigurationLoader[] { attributes, Models.Config.ContentConfig.Load() };
        }

        public static void PostLoad()
        {
            //Comment this code in to activate CodeFist
            /* CODE FIRST START
            var dbs = Sitecore.Configuration.Factory.GetDatabases();
            foreach (var db in dbs)
            {
                var provider = db.GetDataProviders().FirstOrDefault(x =&gt; x is GlassDataProvider) as GlassDataProvider;
                if (provider != null)
                {
                    using (new SecurityDisabler())
                    {
                        provider.Initialise(db);
                    }
                }
            }
             * CODE FIRST END
             */
        }
    }
}




</pre>

<p>
    Don't worry if this doesn't all make sense straight away, as you go through the tutorials it will all be come clear. With a single click of Nuget 
    we have installed and setup everything we need to get Glass.Mapper.Sc working.
</p>
<p>
    <strong>If you are ready, on to <a href="../tutorial02/tutorial02.html">Tutorial 2 - Creating a simple Home page</a></strong>
</p>
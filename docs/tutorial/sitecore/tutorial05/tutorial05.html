---
layout: DocsLayout
title: Tutorial 5 - Working with the Page Editor
---

{% include pageheader.html %}
<p>
    One of the best features of Sitecore is the Page Editor, in this tutorial we will look at how we can 
    use the Page Editor with Glass.Mapper.
</p>
<p>
    We are going to use the News Article in the previous tutorial to create a simple page that displays the news
    article and allow the content editor to edit all fields in the Page Editor.
</p>
<p>
    To start we have to add an additional property to the NewsArtcile class to represent the Sitecore ID. 
    The property that represents the Sitecore ID is required to allow Glass.Mapper to link your model to the actual Sitecore
    item in Page Edit mode.
</p>
<pre class="github cs"  ref="gh-pages">
using System;
using Glass.Mapper.Sc.Configuration;
using Glass.Mapper.Sc.Configuration.Attributes;
using Glass.Mapper.Sc.Fields;

namespace Glass.Mapper.Sites.Sc.Models.Content
{
    [SitecoreType]
    public class NewsArticle 
    {
        [SitecoreId]
        public virtual Guid Id { get; set; }
        
        [SitecoreField]
        public virtual string Title { get; set; }

        [SitecoreField]
        public virtual string Abstract { get; set; }

        [SitecoreField]
        public virtual string MainBody { get; set; }

        [SitecoreField]
        public virtual Image FeaturedImage { get; set; }

        [SitecoreField]
        public virtual DateTime Date { get; set; }

        [SitecoreInfo(SitecoreInfoType.Url)]
        public virtual string Url { get; set; }
    }
}

</pre>
<p>
    Our model can now work with the Page Editor, next we need to create a Sublayout in Sitecore called NewsArticleSublayout. In 
    the previous examples we manually retrieved the item from Sitecore in the Page_Load method however we can make this simpler
    by making the Sublayout inherit from the GlassUserControl. This control is generic and takes the type that you want to be 
    loaded:
</p>
<pre class="github cs" ref="gh-pages">
using Glass.Mapper.Sc.Web.Ui;
using Glass.Mapper.Sites.Sc.Models.Content;

namespace Glass.Mapper.Sites.Sc.layouts.Site.Content
{
    public partial class NewsArticleSublayout : GlassUserControl&lt;NewsArticle&gt;
    {
    }
}


</pre>
<p>
    The GlassUserControl already has a property called Model and also has some useful methods to make fields editable.
</p>
<p>
    The code for the ASCX page is shown below:
</p>
<pre class="github html"  ref="gh-pages">
&lt;%@ Control Language="C#" AutoEventWireup="true" CodeBehind="NewsArticleSublayout.ascx.cs" Inherits="Glass.Mapper.Sites.Sc.layouts.Site.Content.NewsArticleSublayout" %&gt;
&lt;div class="page-header"&gt;
    &lt;h1&gt;&lt;%=Editable(x=&gt; x.Title) %&gt; &lt;small&gt;Date: &lt;%=Editable(x =&gt; x.Date, x =&gt; x.Date.ToString("dd MMM yyyy"))  %&gt;&lt;/small&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;%=Editable(x=&gt; x.MainBody )%&gt;

&lt;% if (IsInEditingMode)
   { %&gt;
        &lt;div class="well"&gt;
            &lt;h3&gt;Additional fields&lt;/h3&gt;
            &lt;dl&gt;
                &lt;dt&gt;Abstract&lt;/dt&gt;
                &lt;dd&gt;
                    &lt;%=Editable(x=&gt;x.Abstract) %&gt;
                &lt;/dd&gt;
                &lt;dt&gt;Featured Image&lt;/dt&gt;
                &lt;dd&gt;
                    &lt;%=Editable(x=&gt;x.FeaturedImage) %&gt;
                &lt;/dd&gt;
            &lt;/dl&gt;

           
        &lt;/div&gt;

&lt;% } %&gt;
</pre>
<p>
    There are several different examples of using the Page Editor in this page. The simplest form is simply specify this field
    you want to edit in the lambda expression:
</p>
<pre class="cs">
    <%=Editable(x=> x.Title) %>
    <%=Editable(x=> x.MainBody )%>
</pre>
<p>
    The second more complicated method of make a field Editable takes two parameters, this has been used to make the Date field
    editable. The first parameter instructs Glass.Mapper which field to make editable, the second parameter then specifies
    what the output should be when the page is not in page editing mode. This allows you to control the output of the field
    when in the two different modes.
</p>
<pre class="cs">
    <%=Editable(x => x.Date, x => x.Date.ToString("dd MMM yyyy"))  %>
</pre>
<p>
    Finally we can see the additional property IsInEditingMode, this can be used to control sections that should only be rendered
    in Page Edit mode.
</p>
<p>
    Compiling the page and navigating to the page in normal mode we get the standard news article page:
</p>
<img src="tutorial05.normal.png" class="img-polaroid"/>
<p>
    In editing mode we can see that all the fields are editable and our additional fields also render:
</p>
<img src="tutorial05.editing.png" class="img-polaroid"/>
<p>
    In this tutorial you have seen how simple it is to make a field editable using Glass.Mapper and the advantages of using the 
    GlassUserControl control.
</p>

<p>
    <a href="../tutorial06/tutorial06.html">Tutorial 6 - Using inheritance</a>
</p>





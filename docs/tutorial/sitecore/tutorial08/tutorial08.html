---
layout: DocsLayout
title: Tutorial 8 - Fluent configuration
---

{% include pageheader.html %}
<p>
    In this tutorial we will look at how we can use fluent configuration. So far in the tutorials we have used attribute configuration
    but this isn't for everyone. Fluent configuration allows you to separate your configuration from the models you are using in you
    code. This is useful if are creating business logic that works across different CMS solutions.
</p>
<p>
    For this tutorial we will be creating the events area of our website. The model for our events page is shown below, notice that
    it doesn't contain any attributes:
</p>
<pre class="github cs"  ref="gh-pages">
using System;
using Sitecore.Globalization;

namespace Glass.Mapper.Sites.Sc.Models.Content
{
    public class Event
    {
        public virtual Guid Id { get; set; }

        public virtual Language Language { get; set; }

        public virtual string Title { get; set; }

        public virtual string MainBody { get; set; }

        public virtual string Abstract { get; set; }

        public virtual string Location { get; set; }

        public virtual DateTime Start { get; set; }

        public virtual DateTime End { get; set; }

        public virtual string Url { get; set; }
    }
}

</pre>
<p>
    We now define the configuration in a separate class shown below, everything you can do with attribute configuration you can do 
    with fluent configuration, it is just a matter of style. The example code below shows how to use auto mapping as well 
    as how to map individual properties.
</p>
<pre class="github cs"  ref="gh-pages">
using Glass.Mapper.Sc.Configuration;
using Glass.Mapper.Sc.Configuration.Fluent;
using Glass.Mapper.Sites.Sc.Models.Content;

namespace Glass.Mapper.Sites.Sc.Models.Config
{
    public class ContentConfig
    {
        public static SitecoreFluentConfigurationLoader Load()
        {
            var loader = new SitecoreFluentConfigurationLoader();

            var eventConfig = loader.Add&lt;Event&gt;().AutoMap();
            eventConfig.Field(x =&gt; x.Title);
            eventConfig.Id(x =&gt; x.Id);
            eventConfig.Info(x =&gt; x.Language).InfoType(SitecoreInfoType.Language);

            return loader;
        }
    }
}
</pre>
<p>
    Now we have our configured class we need to tell Glass.Mapper to load the configuration, this is achieved
    by updating the Start method in the App_Start.GlassMapperSc class. In the code below you can see that I have
    added an extract call to our configuration class when calling the context.Load method:
</p>
<pre class="github cs"  ref="gh-pages">
using System.Collections.Generic;
using Castle.Windsor;
using Glass.Mapper.Configuration;
using Glass.Mapper.Sc.CastleWindsor;
using Glass.Mapper.Sc.Configuration.Attributes;
using Sitecore.SecurityModel;

namespace Glass.Mapper.Sites.Sc.App_Start
{

    public static class GlassMapperScCustom
    {
        public static void CastleConfig(IWindsorContainer container)
        {
            var config = new Config();
            container.Install(new SitecoreInstaller(config));
        }

        public static IConfigurationLoader[] GlassLoaders()
        {
            var attributes = new SitecoreAttributeConfigurationLoader("Glass.Mapper.Sites.Sc");

            return new IConfigurationLoader[]
                {
                    attributes, 
                    Models.Config.ContentConfig.Load()
                };
        }
    }
}


</pre>
<p>
    There is no different in how you can use your classes once you have mapped them with either fluent or attribute configuration.
    Please visit GitHub to grab the code for the events landing page and the event page.
</p>
<p>
    <a href="../tutorial09/tutorial09.html">Tutorial 9 - Handling passed in items</a>
</p>
